@using PagedList.Mvc;
@model PagedList.IPagedList<ClienteModel> 
@{
    ViewData["Title"] = "Página Inicial";
}

<div class="text-center">
    <h1 class="display-4">Lista de Clientes Cadastrados </h1>
   
    <div class="d-grid gap-2 d-md-flex justify-content-end">
        <a type="button" class="btn btn-success float-right m-2" asp-controller="Cliente" asp-action="Cadastrar">Cadastrar Novo</a>
        <button type="button" class="btn btn-primary float-right m-2" data-toggle="modal" data-target="#exampleModal">
            Filtros
    </button>
    </div>

    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <form method="post" action="@Url.Action("Index", "Cliente")">  
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <label>Nome/Razao Social</label>
                        <input type="text" name="Nome" class="form-control" id="inputNome" maxlength="150">
                    </div> 
                    <div class="modal-body">
                        <label>E-mail</label>
                        <input type="text" name="Email" class="form-control" id="inputEmail" maxlength="150">
                    </div>
                    <div class="modal-body">
                        <label>Telefone</label>
                        <input type="text" name="Telefone" class="form-control" id="inputTelefone">
                    </div> 
                    <div class="modal-body">
                        <label>Data Cadastro</label>
                        <input type="date" name="DtaCadastro" id="inputDtaCadastro" class="form-control">
                    </div>  
                    <div class="modal-body">
                        <input class="form-check-input" name="Bloqueio" type="checkbox" value="true" id="bloqueio">
                        <label class="form-check-label">
                            Cliente Bloqueado?
                        </label>
                    </div>
            
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" onclick="limparFiltros()" class="btn btn-primary">Limpar Filtros</button>
                        <button type="submit" class="btn btn-primary">Save changes</button>
                    </div>

                </div>
            </div>
            </form>
        
    </div>

    <table class="table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Nome/Razáo Social</th>
                <th scope="col">E-mail</th>
                <th scope="col">Telefone</th>
                <th scope="col">Data de cadastro</th>
                <th scope="col">Bloqueado</th>
                <th scope="col"></th>

            </tr>
        </thead>
        <tbody>
            
            @if(Model != null && Model.Any())
            {
                foreach(ClienteModel item in Model)
                {
                    <tr>
                        <th scope="row">></th>
                        <td>@item.Nome</td>
                        <td>@item.Email</td>
                        <td>@item.Telefone</td>
                        <td>@item.DtaCadastro.ToString("dd/MM/yyyy")</td>
                        <td>@item.Bloqueio</td>
                        <td>
                            <a role="button" class="btn btn-info" asp-route-id="@item.Id" asp-controller="Cliente" asp-action="Editar">Editar</a>
                        </td>

                    </tr>

                }
            }             

         
        </tbody>
    </table>
</div>

Page@(Model.PageCount < Model.PageNumber? 0:Model.PageNumber)of Model.PageCount
@Html.PagedListPager(Model, PagedList => Url.Action("Idex", new{page))
<script>
    function limparFiltros() {
        document.getElementById("inputNome").value = "";
        document.getElementById("inputEmail").value = "";
        document.getElementById("inputTelefone").value = "";
        document.getElementById("inputDtaCadastro").value = default(DateTime);
        document.getElementById("bloqueio").checked = false;
    }
</script>